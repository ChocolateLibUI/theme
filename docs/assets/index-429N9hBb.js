var Y=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var l=(r,e,t)=>(Y(r,e,"read from private field"),t?t.call(r):e.get(r)),y=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},u=(r,e,t,n)=>(Y(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();let ve=class{constructor(e,t,n){this.type=e,this.target=t,this.data=n}},fe=class{constructor(e){this.eventHandler_ListenerStorage={},this.target=e}on(e,t){let n=this.eventHandler_ListenerStorage[e];return n?n.indexOf(t)==-1?n.push(t):console.warn("Subscriber already in handler"):this.eventHandler_ListenerStorage[e]=[t],t}once(e,t){return this.on(e,function(n){return t(n),!0}),t}off(e,t){let n=this.eventHandler_ListenerStorage[e];if(n){let s=n.indexOf(t);s!=-1?n.splice(s,1):console.warn("Subscriber not in handler")}return t}emit(e,t){let n=this.eventHandler_ListenerStorage[e];if(n&&n.length>0){let s=Object.freeze(new ve(e,this.target,t));n.length>1&&(n=[...n]);for(let a=0,i=n.length;a<i;a++)try{n[a](s)===!0&&(n.splice(a,1),i--,a--)}catch(o){console.warn("Failed while dispatching event",o)}}}clear(e){this.eventHandler_ListenerStorage[e]=[]}inUse(e){var t;return!!((t=this.eventHandler_ListenerStorage[e])!=null&&t.length)}has(e,t){var n;return((n=this.eventHandler_ListenerStorage[e])==null?void 0:n.indexOf(t))!==-1}amount(e){var t;return((t=this.eventHandler_ListenerStorage[e])==null?void 0:t.length)||0}};var ye=Object.defineProperty,Se=(r,e,t)=>e in r?ye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,I=(r,e,t)=>(Se(r,typeof e!="symbol"?e+"":e,t),t);let Ee=class{constructor(e){I(this,"_documents"),I(this,"main"),I(this,"_events"),I(this,"events"),this.main=e,this._documents=[e],this.events=this._events=new fe(this),this._events.target=this}forDocuments(e){for(let t=0;t<this._documents.length;t++)e(this._documents[t])}get documents(){return[...this._documents]}registerDocument(e,t){if(this._documents.includes(e))return console.warn("Document registered twice");if(this._documents.push(e),t){let n=this.main.head.children;for(let s=0;s<n.length;s++)switch(n[s].nodeName){case"LINK":if(n[s].rel!=="stylesheet")break;case"STYLE":e.head.appendChild(n[s].cloneNode(!0));break}}this._events.emit("added",e)}deregisterDocument(e){let t=this._documents.indexOf(e);if(t==-1)return console.warn("Document not registered");if(this._documents[t]===this.main)return console.warn("Main document cannot be removed");this._documents.splice(t,1),this._events.emit("removed",e)}};const ee="@chocolatelibui/theme",Te="0.1.0";let te=class re{constructor(e){this.value=e}get ok(){return!0}get err(){return!1}expect(){return this.value}expectErr(e){throw new Error(e)}get unwrap(){return this.value}unwrapOr(){return this.value}andThen(e){return e(this.value)}orElse(){return this}map(e){return new re(e(this.value))}mapErr(){return this}get toOptional(){return new U(this.value)}safeUnwrap(){return this.value}};var S,_;let Le=(_=class{constructor(e){y(this,S,void 0);u(this,S,new Error().stack),this.error=e}get valid(){return!1}get ok(){return!1}get err(){return!0}expect(e){throw new Error(e+`
Original `+l(this,S)+`
Expect Error`)}expectErr(){return this.error}get unwrap(){throw new Error(`Tried to unwrap Error
Original `+l(this,S)+`
Unwrap Error`)}unwrapOr(e){return e}andThen(){return this}orElse(e){return e(this.error)}map(){return this}mapErr(e){return new _(e(this.error))}get toOptional(){return new ne}get stack(){return l(this,S)}},S=new WeakMap,_);class U{constructor(e){this.value=e}get valid(){return!0}get some(){return!0}get none(){return!1}expect(){return this.value}get unwrap(){return this.value}unwrapOr(){return this.value}andThen(e){return e(this.value)}orElse(){return this}map(e){return new U(e(this.value))}toResult(){return new te(this.value)}}class ne{get valid(){return!1}get some(){return!1}get none(){return!0}expect(e){throw new Error(e)}get unwrap(){throw new Error("Tried to unwrap None")}unwrapOr(e){return e}andThen(){return this}orElse(e){return e()}map(){return this}toResult(e){return new Le(e)}}function c(r){return new te(r)}function w(r){return new U(r)}function se(){return new ne}let Me=class{constructor(e,t,n,s){if(e!==void 0&&(this.min=e),t!==void 0&&(this.max=t),n!==void 0){this.step=n;const a=String(n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(this.decimals=a?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0,s!==void 0){this.start=s;const i=String(s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);this.decimals=Math.max(this.decimals,i?Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0)):0)}}}check(e){if("max"in this&&e>this.max)return e+" is bigger than the limit of "+this.max;if("min"in this&&e<this.min)return e+" is smaller than the limit of "+this.max}limit(e){return this.step&&(this.start?e=parseFloat((Math.round((e-this.start+Number.EPSILON)/this.step)*this.step+this.start).toFixed(this.decimals)):e=parseFloat((Math.round((e+Number.EPSILON)/this.step)*this.step).toFixed(this.decimals))),w(Math.min(this.max??1/0,Math.max(this.min??-1/0,e)))}};var O;class B{constructor(e){y(this,O,void 0);u(this,O,e)}check(e){if(!(e in l(this,O)))return e+" is not in list"}limit(e){return w(e)}}O=new WeakMap;class De{constructor(){this.subscribers=[]}subscribe(e,t){return this.subscribers.includes(e)?(console.warn("Function already registered as subscriber"),e):(this.subscribers.push(e),t&&this.then(n=>{e(n)}),e)}unsubscribe(e){const t=this.subscribers.indexOf(e);return t!=-1?this.subscribers.splice(t,1):console.warn("Subscriber not found with state",this,e),e}related(){return se()}inUse(){return!!this.subscribers.length}hasSubscriber(e){return this.subscribers.includes(e)}updateSubscribers(e){for(let t=0,n=this.subscribers.length;t<n;t++)try{this.subscribers[t](e)}catch(s){console.warn("Failed while calling subscribers ",s,this,this.subscribers[t])}}}var d,T,m,L,Z;let g=(Z=class extends De{constructor(t,n,s,a){super();y(this,d,void 0);y(this,T,void 0);y(this,m,void 0);y(this,L,void 0);if(n&&u(this,T,n===!0?i=>l(this,m)?l(this,m).limit(i).map(o=>c(o)):w(c(i)):n),s&&u(this,m,s),a&&u(this,L,a),t instanceof Promise)this.then=t.then.bind(t),t.then(i=>{u(this,d,i),delete this.then,delete this.write}),this.write=i=>{t.then(()=>{delete this.write,this.write(i)})};else if(typeof t=="function"){let i=new Promise(o=>{this.then=v=>{let h=t();return this.then=h.then.bind(h),h.then(b=>{u(this,d,b),delete this.then,delete this.write,o()}),h.then(v)}});this.write=o=>{i.then(()=>{delete this.write,this.write(o)})}}else u(this,d,t)}async then(t){return t(l(this,d))}related(){return l(this,L)?l(this,L).call(this):se()}write(t){l(this,T)&&l(this,d).ok&&l(this,d).value!==t&&l(this,T).call(this,t).map(this.set.bind(this))}check(t){return l(this,m)?l(this,m).check(t):void 0}limit(t){return l(this,m)?l(this,m).limit(t):w(t)}set(t){u(this,d,t),this.updateSubscribers(t)}},d=new WeakMap,T=new WeakMap,m=new WeakMap,L=new WeakMap,Z),Q=localStorage["settings/packageVersions"],M={};try{M=Q?JSON.parse(Q):{}}catch{}let G,_e=(r,e,t,n)=>{let s;return M[r]!==e&&(s=M[r],M[r]=e,G&&clearTimeout(G),G=setTimeout(()=>{localStorage["settings/packageVersions"]=JSON.stringify(M)},1e3)),new W(r,t,n,s||void 0)};class Oe extends g{constructor(e,t,n,s,a,i){super(e,s,a,i),this.name=t,this.description=n}}class W{constructor(e,t,n,s){this.settings={},this.subGroups={},this.versionChanged=s,this.pathID=e,this.name=t,this.description=n}makeSubGroup(e,t,n){if(e in this.subGroups){console.warn("Sub group already registered "+e);return}return this.subGroups[e]=new W(this.pathID+"/"+e,t,n,this.versionChanged)}addSetting(e,t,n,s,a,i,o,v){if(e in this.settings)throw new Error("Settings already registered "+e);let h=localStorage[this.pathID+"/"+e],b=this.settings[e]=new Oe(async()=>{if(h)try{if(this.versionChanged&&v){let j=v(JSON.parse(h),this.versionChanged);return localStorage[this.pathID+"/"+e]=JSON.stringify(j),c(j)}return c(JSON.parse(h))}catch{}let f;return t instanceof Promise?f=await t:typeof t=="function"?f=await t():f=t,localStorage[this.pathID+"/"+e]=JSON.stringify(f),c(f)},n,s,a,i,o);return b.subscribe(f=>{localStorage[this.pathID+"/"+e]=JSON.stringify(f.unwrap)}),b}}let x=(r,e)=>{let t;return function(){return t||(t=new DOMParser().parseFromString(e,"image/svg+xml").firstChild,t.setAttribute("icon",r)),t.cloneNode(!0)}},xe=x("material_action_touch_app_rounded",'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M18.19,12.44l-3.24-1.62c1.29-1,2.12-2.56,2.12-4.32c0-3.03-2.47-5.5-5.5-5.5s-5.5,2.47-5.5,5.5c0,2.13,1.22,3.98,3,4.89 v3.26c-2.15-0.46-2.02-0.44-2.26-0.44c-0.53,0-1.03,0.21-1.41,0.59L4,16.22l5.09,5.09C9.52,21.75,10.12,22,10.74,22h6.3 c0.98,0,1.81-0.7,1.97-1.67l0.8-4.71C20.03,14.32,19.38,13.04,18.19,12.44z M17.84,15.29L17.04,20h-6.3 c-0.09,0-0.17-0.04-0.24-0.1l-3.68-3.68l4.25,0.89V6.5c0-0.28,0.22-0.5,0.5-0.5c0.28,0,0.5,0.22,0.5,0.5v6h1.76l3.46,1.73 C17.69,14.43,17.91,14.86,17.84,15.29z M8.07,6.5c0-1.93,1.57-3.5,3.5-3.5s3.5,1.57,3.5,3.5c0,0.95-0.38,1.81-1,2.44V6.5 c0-1.38-1.12-2.5-2.5-2.5c-1.38,0-2.5,1.12-2.5,2.5v2.44C8.45,8.31,8.07,7.45,8.07,6.5z"/></g></g></svg>'),ke=x("material_device_dark_mode_rounded",'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><rect fill="none" height="24" width="24"/><path d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg>'),Ie=x("material_device_light_mode_rounded",'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><rect fill="none" height="24" width="24"/><path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg>'),Ne=x("material_hardware_mouse_rounded",'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M20 9c-.04-4.39-3.6-7.93-8-7.93S4.04 4.61 4 9v6c0 4.42 3.58 8 8 8s8-3.58 8-8V9zm-2 0h-5V3.16c2.81.47 4.96 2.9 5 5.84zm-7-5.84V9H6c.04-2.94 2.19-5.37 5-5.84zM18 15c0 3.31-2.69 6-6 6s-6-2.69-6-6v-4h12v4z"/></svg>'),Ce=x("material_image_edit_rounded",'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"/></svg>'),p=[],V={};const k=_e(ee,Te,"Theme/UI","Settings for UI elements and and color themes");var $=(r=>(r.Light="light",r.Dark="dark",r))($||{});const ie={light:{name:"Light",description:"Theme optimized for daylight",icon:Ie},dark:{name:"Dark",description:"Theme optimized for night time",icon:ke}},F=new g(c(ie)),ze=new B(ie),q=k.addSetting("theme",window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light","Theme","Theme to use for the UI",!0,ze,()=>w({list:F}));q.subscribe(r=>{p.forEach(e=>{e.applyTheme(r.unwrap)})});const E=q;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r=>{q.write(r.matches?"dark":"light")});const He=new g(c(400)),Pe=new g(c(50)),Ae=new g(c(0)),Ve=new g(c("%")),Ue=new Me(50,400);let X=1;const ae=k.addSetting("scale",100,"Scale","UI scale",!0,Ue,()=>w({min:Pe,max:He,unit:Ve,decimals:Ae}));ae.subscribe(r=>{X=r.unwrap/100,p.forEach(e=>{e.applyScale(X)})});const D=ae;var N=(r=>(r.THIN="thin",r.MEDIUM="medium",r.WIDE="wide",r))(N||{});const oe={thin:{name:"Thin",description:"Thin modern scrollbar"},medium:{name:"Medium",description:"Normal scrollbar"},wide:{name:"Wide",description:"Large touch friendly scrollbar"}},le=new g(c(oe)),Be=new B(oe),ce=k.addSetting("scrollbar","thin","Scrollbar Mode","Size of the scrollbar to use",!0,Be,()=>w({list:le}));ce.subscribe(r=>{p.forEach(e=>{e.applyScrollbar(r.unwrap)})});const C=ce;var z=(r=>(r.MOUSE="mouse",r.PEN="pen",r.TOUCH="touch",r))(z||{});const he={mouse:{name:"Mouse",description:"Mouse input",icon:Ne},pen:{name:"Pen",description:"Pen input",icon:Ce},touch:{name:"Touch",description:"Touch input",icon:xe}},ue=new g(c(he)),Ge=new B(he),de=k.addSetting("input","touch","Input Mode","Setting for preffered input mode, changes UI elements to be more optimized for the selected input mode",!0,Ge,()=>w({list:ue}));de.subscribe(r=>{p.forEach(e=>{e.applyInput(r.unwrap)})});const H=de;var P=(r=>(r.ALL="all",r.MOST="most",r.SOME="some",r.NONE="none",r))(P||{});const me={all:{name:"All",description:"All animations"},most:{name:"Most",description:"All but the heaviest animations"},some:{name:"Some",description:"Only the lightest animations"},none:{name:"None",description:"No animations"}},pe=new g(c(me)),$e=new B(me),we=k.addSetting("animation","all","Animation Level","Setting for animation level, changes the amount of animations used in the UI",!0,$e,()=>w({list:pe}));we.subscribe(r=>{p.forEach(e=>{e.applyAnimation(r.unwrap)})});const A=we;let Fe=(r,e,t)=>(V[r]=new K(r,e,t),V[r]);class K{constructor(e,t,n){this.variables={},this.subGroups={},this.pathID=e,this.name=t,this.description=n}makeSubGroup(e,t,n){if(e in this.subGroups)throw new Error("Sub group already registered "+e);return this.subGroups[e]=new K(this.pathID+"/"+e,t,n)}makeVariable(e,t,n,s,a,i,o){if(e in this.variables)throw new Error("Settings already registered "+e);let v="--"+this.pathID+"/"+e,h=this.variables[v]={name:t,desc:n,vars:{[$.Light]:s,[$.Dark]:a}};for(let b=0;b<p.length;b++)p[b].applySingleProperty(v,h.vars)}applyThemes(e,t){for(const n in this.variables)e.setProperty(n,this.variables[n].vars[t]);for(const n in this.subGroups)this.subGroups[n].applyThemes(e,t)}}class Je{constructor(e){p.push(this),this._handler=e,this._listener=this._handler.events.on("added",t=>{this.applyAllToDoc(t.data)}),e.forDocuments(t=>{this.applyAllToDoc(t)})}destructor(){this._handler.events.off("added",this._listener);let e=p.indexOf(this);if(e==-1)return console.warn("Theme engine already destructed");p.splice(e,1)}async applyAllToDoc(e){this.applyScrollbarToDoc(e,(await C).unwrap),this.applyThemeToDoc(e,(await E).unwrap),this.applyInputToDoc(e,(await H).unwrap),this.applyScaleToDoc(e,(await D).unwrap/100),await new Promise(t=>{setTimeout(t,100)}),this.applyAnimationToDoc(e,(await A).unwrap)}applyScrollbar(e){this._handler.forDocuments(t=>{this.applyScrollbarToDoc(t,e)})}applyScrollbarToDoc(e,t){e.documentElement.style.setProperty("--scrollbar",{[N.THIN]:"0.4rem",[N.MEDIUM]:"1rem",[N.WIDE]:"1.875rem"}[t])}applyAnimation(e){this._handler.forDocuments(t=>{this.applyAnimationToDoc(t,e)})}applyAnimationToDoc(e,t){switch(e.documentElement.classList.remove("anim-all","anim-most","anim-some"),t){case P.ALL:e.documentElement.classList.add("anim-all");case P.MOST:e.documentElement.classList.add("anim-most");case P.SOME:e.documentElement.classList.add("anim-some");break}}applyTheme(e){this._handler.forDocuments(t=>{this.applyThemeToDoc(t,e)})}applyThemeToDoc(e,t){for(const n in V)V[n].applyThemes(e.documentElement.style,t)}applyScale(e){this._handler.forDocuments(t=>{this.applyScaleToDoc(t,e)})}applyScaleToDoc(e,t){e.documentElement.style.fontSize=t*16+"px"}applyInput(e){this._handler.forDocuments(t=>{this.applyInputToDoc(t,e)})}applyInputToDoc(e,t){let n=e.documentElement.style;switch(n.setProperty("--mouse","0"),n.setProperty("--pen","0"),n.setProperty("--touch","0"),e.documentElement.classList.remove("mouse","pen","touch"),t){case z.MOUSE:n.setProperty("--mouse","1"),e.documentElement.classList.add("mouse");break;case z.PEN:n.setProperty("--pen","1"),e.documentElement.classList.add("pen");break;case z.TOUCH:n.setProperty("--touch","1"),e.documentElement.classList.add("touch");break}}async applySingleProperty(e,t){let n=(await E).unwrap;this._handler.forDocuments(s=>{s.documentElement.style.setProperty(e,t[n])})}}let J=new Ee(document);new Je(J);let R=Fe(ee,"TestVars","TestDescription");R.makeVariable("test","Test Name","Test Description","lightblue","black","Angle",void 0);R.makeVariable("testText","Test Name","Test Description","black","white","Angle",void 0);R.makeVariable("test2","Test 2 Name","Test 2 Description","test","asdf","Number",{min:0,max:1});let ge=async r=>{let e=r.body.appendChild(document.createElement("select"));for(const i in(await le).unwrap){let o=e.appendChild(document.createElement("option"));o.innerHTML=i}e.addEventListener("change",i=>{C.write(i.currentTarget.selectedOptions[0].innerHTML)}),e.value=(await C).unwrap,C.subscribe(i=>{e.value=i.unwrap});let t=r.body.appendChild(document.createElement("select"));for(const i in(await pe).unwrap){let o=t.appendChild(document.createElement("option"));o.innerHTML=i}t.addEventListener("change",async i=>{A.write(i.currentTarget.selectedOptions[0].innerHTML)}),t.value=(await A).unwrap,A.subscribe(i=>{t.value=i.unwrap});let n=r.body.appendChild(document.createElement("select"));for(const i in(await F).unwrap){let o=n.appendChild(document.createElement("option"));o.innerHTML=i}n.addEventListener("change",async i=>{E.write(i.currentTarget.selectedOptions[0].innerHTML)}),n.value=(await E).unwrap,E.subscribe(i=>{n.value=i.unwrap});for(const i in(await F).unwrap){let o=r.body.appendChild(document.createElement("button"));o.innerHTML=i,o.addEventListener("click",()=>{E.write(i)})}let s=r.body.appendChild(document.createElement("input"));s.type="number",s.addEventListener("change",async()=>{D.write(s.valueAsNumber),s.valueAsNumber=(await D).unwrap}),s.valueAsNumber=(await D).unwrap,D.subscribe(i=>{s.valueAsNumber=i.unwrap});let a=r.body.appendChild(document.createElement("select"));for(const i in(await ue).unwrap){let o=a.appendChild(document.createElement("option"));o.innerHTML=i}a.addEventListener("change",async i=>{H.write(i.currentTarget.selectedOptions[0].innerHTML)}),a.value=(await H).unwrap,H.subscribe(i=>{a.value=i.unwrap}),r.body.appendChild(document.createElement("div")).innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum volutpat tortor non tempor viverra. Cras ullamcorper ligula massa, fringilla ornare sapien imperdiet ac. Nam sapien diam, lacinia eget ex sed, varius commodo lacus. Aliquam pharetra metus tortor, non congue metus viverra vel. Donec semper malesuada arcu, eget lobortis eros scelerisque."};ge(document);let be=document.body.appendChild(document.createElement("button"));be.innerHTML="Open Window";be.onclick=()=>{let r=window.open("","","popup");J.registerDocument(r.document,!0),r==null||r.addEventListener("unload",()=>{J.deregisterDocument(r.document)}),ge(r.document)};
